---
- name: "module_yum_repository"
  hosts: all
  # hosts: localhost, Define the --limit localhost.
  # connection: Define the variable ansible_connection in the inventory
  # become: Define the variable ansible_become in the inventory
  # gather_facts: Define the variable ansible_gather_facts in the inventory
  vars:
    yum_repository: 
      seuser: "{{ yum_repository_seuser | default(omit, True) }}"
      ip_resolve: "{{ yum_repository_ip_resolve | default(omit, True) }}"
      enabled: "{{ yum_repository_enabled | default(omit, True) }}"
      includepkgs: "{{ yum_repository_includepkgs | default(omit, True) }}"
      mirrorlist_expire: "{{ yum_repository_mirrorlist_expire | default(omit, True) }}"
      bandwidth: "{{ yum_repository_bandwidth | default(omit, True) }}"
      cost: "{{ yum_repository_cost | default(omit, True) }}"
      file: "{{ yum_repository_file | default(omit, True) }}"
      owner: "{{ yum_repository_owner | default(omit, True) }}"
      exclude: "{{ yum_repository_exclude | default(omit, True) }}"
      keepalive: "{{ yum_repository_keepalive | default(omit, True) }}"
      repo_gpgcheck: "{{ yum_repository_repo_gpgcheck | default(omit, True) }}"
      group: "{{ yum_repository_group | default(omit, True) }}"
      failovermethod: "{{ yum_repository_failovermethod | default(omit, True) }}"
      unsafe_writes: "{{ yum_repository_unsafe_writes | default(omit, True) }}"
      deltarpm_metadata_percentage: "{{ yum_repository_deltarpm_metadata_percentage | default(omit, True) }}"
      gpgkey: "{{ yum_repository_gpgkey | default(omit, True) }}"
      setype: "{{ yum_repository_setype | default(omit, True) }}"
      http_caching: "{{ yum_repository_http_caching | default(omit, True) }}"
      priority: "{{ yum_repository_priority | default(omit, True) }}"
      serole: "{{ yum_repository_serole | default(omit, True) }}"
      mirrorlist: "{{ yum_repository_mirrorlist | default(omit, True) }}"
      gpgcheck: "{{ yum_repository_gpgcheck | default(omit, True) }}"
      include: "{{ yum_repository_include | default(omit, True) }}"
      proxy_username: "{{ yum_repository_proxy_username | default(omit, True) }}"
      username: "{{ yum_repository_username | default(omit, True) }}"
      metadata_expire: "{{ yum_repository_metadata_expire | default(omit, True) }}"
      description: "{{ yum_repository_description | default(omit, True) }}"
      retries: "{{ yum_repository_retries | default(omit, True) }}"
      selevel: "{{ yum_repository_selevel | default(omit, True) }}"
      sslclientcert: "{{ yum_repository_sslclientcert | default(omit, True) }}"
      baseurl: "{{ yum_repository_baseurl | default(omit, True) }}"
      gpgcakey: "{{ yum_repository_gpgcakey | default(omit, True) }}"
      s3_enabled: "{{ yum_repository_s3_enabled | default(omit, True) }}"
      state: "{{ yum_repository_state | default(omit, True) }}"
      sslcacert: "{{ yum_repository_sslcacert | default(omit, True) }}"
      proxy_password: "{{ yum_repository_proxy_password | default(omit, True) }}"
      attributes: "{{ yum_repository_attributes | default(omit, True) }}"
      sslverify: "{{ yum_repository_sslverify | default(omit, True) }}"
      password: "{{ yum_repository_password | default(omit, True) }}"
      ui_repoid_vars: "{{ yum_repository_ui_repoid_vars | default(omit, True) }}"
      protect: "{{ yum_repository_protect | default(omit, True) }}"
      ssl_check_cert_permissions: "{{ yum_repository_ssl_check_cert_permissions | default(omit, True) }}"
      throttle: "{{ yum_repository_throttle | default(omit, True) }}"
      name: "{{ yum_repository_name | default(omit, True) }}"
      deltarpm_percentage: "{{ yum_repository_deltarpm_percentage | default(omit, True) }}"
      sslclientkey: "{{ yum_repository_sslclientkey | default(omit, True) }}"
      metalink: "{{ yum_repository_metalink | default(omit, True) }}"
      reposdir: "{{ yum_repository_reposdir | default(omit, True) }}"
      skip_if_unavailable: "{{ yum_repository_skip_if_unavailable | default(omit, True) }}"
      keepcache: "{{ yum_repository_keepcache | default(omit, True) }}"
      mode: "{{ yum_repository_mode | default(omit, True) }}"
      timeout: "{{ yum_repository_timeout | default(omit, True) }}"
      async: "{{ yum_repository_async | default(omit, True) }}"
      metadata_expire_filter: "{{ yum_repository_metadata_expire_filter | default(omit, True) }}"
      enablegroups: "{{ yum_repository_enablegroups | default(omit, True) }}"
      proxy: "{{ yum_repository_proxy | default(omit, True) }}"
  tasks:
    - name: "plugin_yum_repository"
      yum_repository: "{{ yum_repository }}"
      register: r_yum_repository

    - name: "export r_yum_repository"
      set_stats:
        data:
          r_yum_repository: "{{ r_yum_repository }}"
