---
- name: "module_vmadm"
  hosts: all
  # hosts: localhost, Define the --limit localhost.
  # connection: Define the variable ansible_connection in the inventory
  # become: Define the variable ansible_become in the inventory
  # gather_facts: Define the variable ansible_gather_facts in the inventory
  vars:
    vmadm: 
      customer_metadata: "{{ vmadm_customer_metadata | default('omit', True) }}"
      disk_driver: "{{ vmadm_disk_driver | default('omit', True) }}"
      force: "{{ vmadm_force | default('omit', True) }}"
      zfs_root_compression: "{{ vmadm_zfs_root_compression | default('omit', True) }}"
      virtio_txtimer: "{{ vmadm_virtio_txtimer | default('omit', True) }}"
      spice_password: "{{ vmadm_spice_password | default('omit', True) }}"
      zfs_io_priority: "{{ vmadm_zfs_io_priority | default('omit', True) }}"
      ram: "{{ vmadm_ram | default('omit', True) }}"
      dns_domain: "{{ vmadm_dns_domain | default('omit', True) }}"
      max_physical_memory: "{{ vmadm_max_physical_memory | default('omit', True) }}"
      nic_driver: "{{ vmadm_nic_driver | default('omit', True) }}"
      zfs_data_compression: "{{ vmadm_zfs_data_compression | default('omit', True) }}"
      image_uuid: "{{ vmadm_image_uuid | default('omit', True) }}"
      fs_allowed: "{{ vmadm_fs_allowed | default('omit', True) }}"
      indestructible_delegated: "{{ vmadm_indestructible_delegated | default('omit', True) }}"
      qemu_opts: "{{ vmadm_qemu_opts | default('omit', True) }}"
      virtio_txburst: "{{ vmadm_virtio_txburst | default('omit', True) }}"
      firewall_enabled: "{{ vmadm_firewall_enabled | default('omit', True) }}"
      mdata_exec_timeout: "{{ vmadm_mdata_exec_timeout | default('omit', True) }}"
      spice_opts: "{{ vmadm_spice_opts | default('omit', True) }}"
      nics: "{{ vmadm_nics | default('omit', True) }}"
      hostname: "{{ vmadm_hostname | default('omit', True) }}"
      boot: "{{ vmadm_boot | default('omit', True) }}"
      vga: "{{ vmadm_vga | default('omit', True) }}"
      zfs_snapshot_limit: "{{ vmadm_zfs_snapshot_limit | default('omit', True) }}"
      state: "{{ vmadm_state | default('omit', True) }}"
      limit_priv: "{{ vmadm_limit_priv | default('omit', True) }}"
      cpu_cap: "{{ vmadm_cpu_cap | default('omit', True) }}"
      maintain_resolvers: "{{ vmadm_maintain_resolvers | default('omit', True) }}"
      zfs_data_recsize: "{{ vmadm_zfs_data_recsize | default('omit', True) }}"
      indestructible_zoneroot: "{{ vmadm_indestructible_zoneroot | default('omit', True) }}"
      vnc_password: "{{ vmadm_vnc_password | default('omit', True) }}"
      max_swap: "{{ vmadm_max_swap | default('omit', True) }}"
      zfs_root_recsize: "{{ vmadm_zfs_root_recsize | default('omit', True) }}"
      brand: "{{ vmadm_brand | default('omit', True) }}"
      zfs_filesystem_limit: "{{ vmadm_zfs_filesystem_limit | default('omit', True) }}"
      quota: "{{ vmadm_quota | default('omit', True) }}"
      filesystems: "{{ vmadm_filesystems | default('omit', True) }}"
      autoboot: "{{ vmadm_autoboot | default('omit', True) }}"
      tmpfs: "{{ vmadm_tmpfs | default('omit', True) }}"
      qemu_extra_opts: "{{ vmadm_qemu_extra_opts | default('omit', True) }}"
      resolvers: "{{ vmadm_resolvers | default('omit', True) }}"
      max_lwps: "{{ vmadm_max_lwps | default('omit', True) }}"
      vnc_port: "{{ vmadm_vnc_port | default('omit', True) }}"
      nowait: "{{ vmadm_nowait | default('omit', True) }}"
      name: "{{ vmadm_name | default('omit', True) }}"
      kernel_version: "{{ vmadm_kernel_version | default('omit', True) }}"
      max_locked_memory: "{{ vmadm_max_locked_memory | default('omit', True) }}"
      disks: "{{ vmadm_disks | default('omit', True) }}"
      uuid: "{{ vmadm_uuid | default('omit', True) }}"
      internal_metadata_namespace: "{{ vmadm_internal_metadata_namespace | default('omit', True) }}"
      delegate_dataset: "{{ vmadm_delegate_dataset | default('omit', True) }}"
      archive_on_delete: "{{ vmadm_archive_on_delete | default('omit', True) }}"
      vcpus: "{{ vmadm_vcpus | default('omit', True) }}"
      internal_metadata: "{{ vmadm_internal_metadata | default('omit', True) }}"
      cpu_type: "{{ vmadm_cpu_type | default('omit', True) }}"
      routes: "{{ vmadm_routes | default('omit', True) }}"
      zpool: "{{ vmadm_zpool | default('omit', True) }}"
      docker: "{{ vmadm_docker | default('omit', True) }}"
      cpu_shares: "{{ vmadm_cpu_shares | default('omit', True) }}"
  tasks:
    - name: "plugin_vmadm"
      vmadm: "{{ vmadm }}"
