---
- name: "module_vmware_guest"
  vmware_guest: "{{ vmware_guest }}"
  register: r_vmware_guest
  vars:
    vmware_guest: 
      resource_pool: "{{ vmware_guest_resource_pool | default(omit, True) }}"
      force: "{{ vmware_guest_force | default(omit, True) }}"
      customization_spec: "{{ vmware_guest_customization_spec | default(omit, True) }}"
      hardware: "{{ vmware_guest_hardware | default(omit, True) }}"
      cluster: "{{ vmware_guest_cluster | default(omit, True) }}"
      customization: "{{ vmware_guest_customization | default(omit, True) }}"
      datastore: "{{ vmware_guest_datastore | default(omit, True) }}"
      disk: "{{ vmware_guest_disk | default(omit, True) }}"
      port: "{{ vmware_guest_port | default(omit, True) }}"
      wait_for_ip_address: "{{ vmware_guest_wait_for_ip_address | default(omit, True) }}"
      uuid: "{{ vmware_guest_uuid | default(omit, True) }}"
      customvalues: "{{ vmware_guest_customvalues | default(omit, True) }}"
      hostname: "{{ vmware_guest_hostname | default(omit, True) }}"
      vapp_properties: "{{ vmware_guest_vapp_properties | default(omit, True) }}"
      networks: "{{ vmware_guest_networks | default(omit, True) }}"
      state: "{{ vmware_guest_state | default(omit, True) }}"
      template: "{{ vmware_guest_template | default(omit, True) }}"
      linked_clone: "{{ vmware_guest_linked_clone | default(omit, True) }}"
      folder: "{{ vmware_guest_folder | default(omit, True) }}"
      username: "{{ vmware_guest_username | default(omit, True) }}"
      snapshot_src: "{{ vmware_guest_snapshot_src | default(omit, True) }}"
      guest_id: "{{ vmware_guest_guest_id | default(omit, True) }}"
      name_match: "{{ vmware_guest_name_match | default(omit, True) }}"
      cdrom: "{{ vmware_guest_cdrom | default(omit, True) }}"
      password: "{{ vmware_guest_password | default(omit, True) }}"
      annotation: "{{ vmware_guest_annotation | default(omit, True) }}"
      datacenter: "{{ vmware_guest_datacenter | default(omit, True) }}"
      state_change_timeout: "{{ vmware_guest_state_change_timeout | default(omit, True) }}"
      name: "{{ vmware_guest_name | default(omit, True) }}"
      is_template: "{{ vmware_guest_is_template | default(omit, True) }}"
      esxi_hostname: "{{ vmware_guest_esxi_hostname | default(omit, True) }}"
      validate_certs: "{{ vmware_guest_validate_certs | default(omit, True) }}"

- name: "export r_vmware_guest"
  set_stats:
    data:
      r_vmware_guest: "{{ r_vmware_guest }}"
