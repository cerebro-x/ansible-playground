---
- name: "module_azure_rm_virtualmachine"
  azure_rm_virtualmachine: "{{ azure_rm_virtualmachine }}"
  register: r_azure_rm_virtualmachine
  vars:
    azure_rm_virtualmachine: 
      virtual_network_resource_group: "{{ azure_rm_virtualmachine_virtual_network_resource_group | default(omit, True) }}"
      resource_group: "{{ azure_rm_virtualmachine_resource_group | default(omit, True) }}"
      public_ip_allocation_method: "{{ azure_rm_virtualmachine_public_ip_allocation_method | default(omit, True) }}"
      image: "{{ azure_rm_virtualmachine_image | default(omit, True) }}"
      managed_disk_type: "{{ azure_rm_virtualmachine_managed_disk_type | default(omit, True) }}"
      ssh_public_keys: "{{ azure_rm_virtualmachine_ssh_public_keys | default(omit, True) }}"
      storage_container_name: "{{ azure_rm_virtualmachine_storage_container_name | default(omit, True) }}"
      allocated: "{{ azure_rm_virtualmachine_allocated | default(omit, True) }}"
      ssh_password_enabled: "{{ azure_rm_virtualmachine_ssh_password_enabled | default(omit, True) }}"
      vm_size: "{{ azure_rm_virtualmachine_vm_size | default(omit, True) }}"
      remove_on_absent: "{{ azure_rm_virtualmachine_remove_on_absent | default(omit, True) }}"
      availability_set: "{{ azure_rm_virtualmachine_availability_set | default(omit, True) }}"
      append_tags: "{{ azure_rm_virtualmachine_append_tags | default(omit, True) }}"
      ad_user: "{{ azure_rm_virtualmachine_ad_user | default(omit, True) }}"
      cert_validation_mode: "{{ azure_rm_virtualmachine_cert_validation_mode | default(omit, True) }}"
      short_hostname: "{{ azure_rm_virtualmachine_short_hostname | default(omit, True) }}"
      started: "{{ azure_rm_virtualmachine_started | default(omit, True) }}"
      secret: "{{ azure_rm_virtualmachine_secret | default(omit, True) }}"
      subnet_name: "{{ azure_rm_virtualmachine_subnet_name | default(omit, True) }}"
      admin_password: "{{ azure_rm_virtualmachine_admin_password | default(omit, True) }}"
      network_interface_names: "{{ azure_rm_virtualmachine_network_interface_names | default(omit, True) }}"
      subscription_id: "{{ azure_rm_virtualmachine_subscription_id | default(omit, True) }}"
      location: "{{ azure_rm_virtualmachine_location | default(omit, True) }}"
      profile: "{{ azure_rm_virtualmachine_profile | default(omit, True) }}"
      state: "{{ azure_rm_virtualmachine_state | default(omit, True) }}"
      virtual_network_name: "{{ azure_rm_virtualmachine_virtual_network_name | default(omit, True) }}"
      cloud_environment: "{{ azure_rm_virtualmachine_cloud_environment | default(omit, True) }}"
      open_ports: "{{ azure_rm_virtualmachine_open_ports | default(omit, True) }}"
      accept_terms: "{{ azure_rm_virtualmachine_accept_terms | default(omit, True) }}"
      plan: "{{ azure_rm_virtualmachine_plan | default(omit, True) }}"
      client_id: "{{ azure_rm_virtualmachine_client_id | default(omit, True) }}"
      auth_source: "{{ azure_rm_virtualmachine_auth_source | default(omit, True) }}"
      adfs_authority_url: "{{ azure_rm_virtualmachine_adfs_authority_url | default(omit, True) }}"
      storage_blob_name: "{{ azure_rm_virtualmachine_storage_blob_name | default(omit, True) }}"
      password: "{{ azure_rm_virtualmachine_password | default(omit, True) }}"
      os_disk_size_gb: "{{ azure_rm_virtualmachine_os_disk_size_gb | default(omit, True) }}"
      tags: "{{ azure_rm_virtualmachine_tags | default(omit, True) }}"
      tenant: "{{ azure_rm_virtualmachine_tenant | default(omit, True) }}"
      name: "{{ azure_rm_virtualmachine_name | default(omit, True) }}"
      restarted: "{{ azure_rm_virtualmachine_restarted | default(omit, True) }}"
      admin_username: "{{ azure_rm_virtualmachine_admin_username | default(omit, True) }}"
      custom_data: "{{ azure_rm_virtualmachine_custom_data | default(omit, True) }}"
      api_profile: "{{ azure_rm_virtualmachine_api_profile | default(omit, True) }}"
      os_type: "{{ azure_rm_virtualmachine_os_type | default(omit, True) }}"
      storage_account_name: "{{ azure_rm_virtualmachine_storage_account_name | default(omit, True) }}"
      data_disks: "{{ azure_rm_virtualmachine_data_disks | default(omit, True) }}"
      os_disk_caching: "{{ azure_rm_virtualmachine_os_disk_caching | default(omit, True) }}"

- name: "export r_azure_rm_virtualmachine"
  set_stats:
    data:
      r_azure_rm_virtualmachine: "{{ r_azure_rm_virtualmachine }}"
