---
- name: "module_proxysql_query_rules"
  proxysql_query_rules: "{{ proxysql_query_rules }}"
  register: r_proxysql_query_rules
  vars:
    proxysql_query_rules: 
      comment: "{{ proxysql_query_rules_comment | default(omit, True) }}"
      flagOUT: "{{ proxysql_query_rules_flagOUT | default(omit, True) }}"
      login_user: "{{ proxysql_query_rules_login_user | default(omit, True) }}"
      save_to_disk: "{{ proxysql_query_rules_save_to_disk | default(omit, True) }}"
      match_pattern: "{{ proxysql_query_rules_match_pattern | default(omit, True) }}"
      mirror_flagOUT: "{{ proxysql_query_rules_mirror_flagOUT | default(omit, True) }}"
      apply: "{{ proxysql_query_rules_apply | default(omit, True) }}"
      schemaname: "{{ proxysql_query_rules_schemaname | default(omit, True) }}"
      replace_pattern: "{{ proxysql_query_rules_replace_pattern | default(omit, True) }}"
      digest: "{{ proxysql_query_rules_digest | default(omit, True) }}"
      match_digest: "{{ proxysql_query_rules_match_digest | default(omit, True) }}"
      mirror_hostgroup: "{{ proxysql_query_rules_mirror_hostgroup | default(omit, True) }}"
      log: "{{ proxysql_query_rules_log | default(omit, True) }}"
      delay: "{{ proxysql_query_rules_delay | default(omit, True) }}"
      state: "{{ proxysql_query_rules_state | default(omit, True) }}"
      proxy_addr: "{{ proxysql_query_rules_proxy_addr | default(omit, True) }}"
      username: "{{ proxysql_query_rules_username | default(omit, True) }}"
      config_file: "{{ proxysql_query_rules_config_file | default(omit, True) }}"
      retries: "{{ proxysql_query_rules_retries | default(omit, True) }}"
      login_host: "{{ proxysql_query_rules_login_host | default(omit, True) }}"
      destination_hostgroup: "{{ proxysql_query_rules_destination_hostgroup | default(omit, True) }}"
      proxy_port: "{{ proxysql_query_rules_proxy_port | default(omit, True) }}"
      load_to_runtime: "{{ proxysql_query_rules_load_to_runtime | default(omit, True) }}"
      login_password: "{{ proxysql_query_rules_login_password | default(omit, True) }}"
      active: "{{ proxysql_query_rules_active | default(omit, True) }}"
      cache_ttl: "{{ proxysql_query_rules_cache_ttl | default(omit, True) }}"
      error_msg: "{{ proxysql_query_rules_error_msg | default(omit, True) }}"
      login_port: "{{ proxysql_query_rules_login_port | default(omit, True) }}"
      negate_match_pattern: "{{ proxysql_query_rules_negate_match_pattern | default(omit, True) }}"
      flagIN: "{{ proxysql_query_rules_flagIN | default(omit, True) }}"
      client_addr: "{{ proxysql_query_rules_client_addr | default(omit, True) }}"
      timeout: "{{ proxysql_query_rules_timeout | default(omit, True) }}"
      force_delete: "{{ proxysql_query_rules_force_delete | default(omit, True) }}"
      rule_id: "{{ proxysql_query_rules_rule_id | default(omit, True) }}"

- name: "export r_proxysql_query_rules"
  set_stats:
    data:
      r_proxysql_query_rules: "{{ r_proxysql_query_rules }}"
